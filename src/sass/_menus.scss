/*
 Menu Treatments
 */

#wb-sm {
    background: $accent-blue;
    .nvbar {
        text-transform: uppercase;
        text-shadow: 1px 1px 1px #222;
        .active {
            text-shadow: none;
            background: #243850;
        }
        ul {
            display: table;
            width: 100%;
            margin-bottom: 0;
            border-right: 1px solid #466081;
            border-left: 1px solid #284468;
            li {
                display: table-cell;
                padding: 0;
                border-left: 1px solid #466081;
                border-right: 1px solid #284468;
                a {
                    color: #fff;
                    display: block;
                    padding:1em;
                }
            }
        }
    }
    .nav-close {
        display: none !important;
    }
    &:target .nav-close {
        display: block !important;
    }
    .menu-item {
        position: relative;
        top: 0;
        left: 0;
        height: 0;
        >.container {
             max-height: 0;
            overflow: hidden;
        }
        &.open {
            > .container {
                background: transparent;
                max-height: 600px;

                .bg-wrap {
                    background: #ddd;
                    box-shadow: 0 3px 3px -2px rgba(0, 0, 0, 0.3), 3px 3px 3px -2px rgba(0, 0, 0, 0.3), -3px 3px 3px -2px rgba(0, 0, 0, 0.3);
                    border-bottom: 5px solid #243850;
                    display: inline-block;
                    ul {
                        padding: 5px 0;
                        display: inline-block;
                        li {
                            padding: 2px 0;
                            a {
                                padding: 0.3em 1em;
                                color: #444;
                            }
                        }

                    }
                }

                p {
                    background: #ccc;
                    border-top: 1px solid #bbb;
                    font-size: 1em;
                    margin: 0;
                    a {
                        padding: .5em 1em;
                        display: block;
                    }
                }
            }
        }
    }
    /* Menu Placement using CSS in desktop view since it is more performant than JS */
    @media screen and (min-width: $desktop) {

    }
    @media screen and (min-width: $largescreen) {
        section{
            &[id="service"]{
                margin-left: -30px;
            }
            &[id="dept"]{
                margin-left: 35.4em;
            }
            &[id="news"]{
                margin-left: 59.3em;
            }
            &[id="canada"]{
                margin-left: 66.1em;
            }
            &[id="pub"]{
                margin-left: 78.7em;
            }
        }
    }
    /* Responsive */
    @media screen and (max-width: $mobile) {
        position: absolute;
        z-index: 1000;
        top: 0;
        right: -100%;
        &:target {
            right: 0;
        }

        .menu-item {
            position: relative;
            top: inherit;
            left: inherit;
            right: inherit;
            bottom: inherit;
            max-height: inherit;
            overflow: visible;
            background: #ddd;
            border-bottom: 1px solid #ccc;
            border-top: 1px solid #eee;
            color: #fff;
            .container {
                padding: 0;
            }

            h3 {
                &.wb-invisible {
                    position: static;
                    clip: auto;
                    height: inherit !important;
                    width: inherit !important;
                    overflow: inherit !important;
                    margin: inherit !important;

                    color: #fff;
                    text-align: left;
                    margin-left: 10px;
                }
            }

            ul {
                margin: 0;
                padding: 0;
                display: block;
                li {
                    float: none;
                    display: block;
                    margin: 0;
                    padding: 0;
                    border: none;
                    background: #ddd;
                    border-bottom: 1px solid #ccc;
                    border-top: 1px solid #eee;
                    color: #fff;
                    a {
                        padding: 10px;
                    }
                }
                li:nth-child(2n+1) {
                    background: #243851;
                }
            }
        }
    }
    header #wb-srch {
        padding-top: 0;
    }
    #wb-srch a {
        color: #284162;
    }
}
